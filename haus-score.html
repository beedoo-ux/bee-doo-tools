<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>bee-doo Haus-Score</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
  :root {
    --bg: #0c1222; --c1: #151d30; --c2: #1c2640; --bd: #263354;
    --tx: #e1e7ef; --dm: #5c6b8a; --y: #FDE154;
    --green: #10B981; --red: #EF4444; --blue: #3B82F6;
  }
  body { font-family: 'DM Sans', system-ui, sans-serif; background: var(--bg); color: var(--tx); min-height: 100vh; max-width: 420px; margin: 0 auto; }

  /* Header */
  .header { background: var(--c1); border-bottom: 1px solid var(--bd); padding: 14px 20px; display: flex; align-items: center; gap: 12px; position: sticky; top: 0; z-index: 10; }
  .logo { width: 34px; height: 34px; background: var(--y); border-radius: 8px; display: grid; place-items: center; font-size: 17px; flex-shrink: 0; }
  .header-text h1 { font-size: 15px; font-weight: 700; }
  .header-text h1 span { color: var(--y); }
  .header-text p { font-size: 11px; color: var(--dm); }
  .back-link { margin-left: auto; color: var(--dm); font-size: 12px; text-decoration: none; padding: 6px 10px; border: 1px solid var(--bd); border-radius: 8px; }

  /* Camera Zone */
  .camera-zone { margin: 20px 16px; }
  .photo-preview { width: 100%; aspect-ratio: 4/3; border-radius: 12px; background: var(--c2); border: 2px dashed var(--bd); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px; cursor: pointer; overflow: hidden; position: relative; transition: border-color 0.2s; }
  .photo-preview:active { border-color: var(--y); }
  .photo-preview img { width: 100%; height: 100%; object-fit: cover; position: absolute; inset: 0; border-radius: 10px; }
  .photo-placeholder { text-align: center; color: var(--dm); }
  .photo-placeholder .icon { font-size: 48px; margin-bottom: 8px; }
  .photo-placeholder p { font-size: 14px; font-weight: 600; }
  .photo-placeholder small { font-size: 12px; }
  .photo-overlay { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.7)); padding: 12px; border-radius: 0 0 10px 10px; }
  .photo-overlay span { font-size: 12px; color: rgba(255,255,255,0.8); }
  input[type=file] { display: none; }

  /* Analyze Button */
  .analyze-btn { width: calc(100% - 32px); margin: 0 16px 20px; background: var(--y); border: none; border-radius: 12px; color: #000; padding: 16px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: inherit; display: flex; align-items: center; justify-content: center; gap: 8px; transition: opacity 0.2s; }
  .analyze-btn:disabled { opacity: 0.4; cursor: not-allowed; }
  .analyze-btn.loading { background: var(--c2); color: var(--dm); }

  /* Loading */
  .loading-box { margin: 0 16px 20px; background: var(--c1); border: 1px solid var(--bd); border-radius: 12px; padding: 24px; text-align: center; display: none; }
  .loading-box.visible { display: block; }
  .spinner { width: 40px; height: 40px; border: 3px solid var(--bd); border-top-color: var(--y); border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 16px; }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading-steps p { font-size: 13px; color: var(--dm); margin-bottom: 6px; }
  .loading-steps .active { color: var(--y); font-weight: 600; }

  /* Score Card */
  .result { margin: 0 16px 20px; display: none; }
  .result.visible { display: block; }

  .score-hero { background: var(--c1); border: 1px solid var(--bd); border-radius: 16px; padding: 24px; text-align: center; margin-bottom: 14px; }
  .score-ring { width: 110px; height: 110px; margin: 0 auto 16px; position: relative; }
  .score-ring svg { transform: rotate(-90deg); }
  .score-ring .score-num { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 36px; font-weight: 700; }
  .score-label { font-size: 11px; color: var(--dm); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 6px; }
  .empfehlung { font-size: 18px; font-weight: 700; }
  .zusammenfassung { font-size: 13px; color: var(--dm); margin-top: 10px; line-height: 1.5; }

  /* Criteria Grid */
  .kriterien-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 14px; }
  .krit-card { background: var(--c1); border: 1px solid var(--bd); border-radius: 10px; padding: 14px; }
  .krit-name { font-size: 11px; color: var(--dm); text-transform: uppercase; letter-spacing: 0.06em; font-weight: 600; margin-bottom: 8px; }
  .krit-bar { height: 4px; background: var(--c2); border-radius: 2px; margin-bottom: 6px; overflow: hidden; }
  .krit-bar-fill { height: 100%; border-radius: 2px; transition: width 0.5s ease; }
  .krit-score { font-size: 20px; font-weight: 700; }
  .krit-bewertung { font-size: 11px; color: var(--dm); margin-top: 4px; line-height: 1.3; }

  /* Stats Row */
  .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 14px; }
  .stat-card { background: var(--c1); border: 1px solid var(--bd); border-radius: 10px; padding: 14px; }
  .stat-label { font-size: 11px; color: var(--dm); text-transform: uppercase; letter-spacing: 0.06em; }
  .stat-value { font-size: 26px; font-weight: 700; margin-top: 4px; }
  .stat-unit { font-size: 13px; color: var(--dm); font-weight: 400; margin-left: 3px; }

  /* Lists */
  .list-card { background: var(--c1); border: 1px solid var(--bd); border-radius: 10px; padding: 16px; margin-bottom: 10px; }
  .list-title { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.07em; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; }
  .list-item { font-size: 13px; color: var(--dm); padding: 8px 0; border-bottom: 1px solid var(--bd); line-height: 1.4; display: flex; gap: 8px; align-items: flex-start; }
  .list-item:last-child { border-bottom: none; padding-bottom: 0; }
  .list-item-icon { flex-shrink: 0; }

  /* Next Steps */
  .next-card { background: rgba(253,225,84,0.08); border: 1px solid rgba(253,225,84,0.25); border-radius: 10px; padding: 16px; margin-bottom: 20px; }
  .next-title { font-size: 12px; font-weight: 700; color: var(--y); text-transform: uppercase; letter-spacing: 0.07em; margin-bottom: 8px; }
  .next-text { font-size: 13px; color: var(--tx); line-height: 1.5; }

  /* New Scan Button */
  .new-btn { width: 100%; background: var(--c2); border: 1px solid var(--bd); border-radius: 12px; color: var(--tx); padding: 14px; font-size: 14px; font-weight: 600; cursor: pointer; font-family: inherit; margin-bottom: 30px; }
  .error-box { margin: 0 16px 20px; background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); border-radius: 10px; padding: 14px 16px; color: #FCA5A5; font-size: 13px; display: none; }
  .error-box.visible { display: block; }
</style>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>

/* ‚ïê‚ïê‚ïê bee-doo Responsive + Lesbarkeit Fix ‚ïê‚ïê‚ïê */

/* === LESBARKEIT: Schriften aufhellen === */
/* Zu dunkle Graut√∂ne auf Dark Theme aufhellen */
body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* === TABLET (768px) === */
@media (max-width: 768px) {
  /* Grid ‚Üí weniger Spalten */
  [style*="grid-template-columns"][style*="repeat"] { 
    grid-template-columns: repeat(2, 1fr) !important; 
  }
  [style*="gridTemplateColumns"] {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  /* Flex-Container wrappen */
  [style*="display:flex"], [style*="display: flex"],
  [style*='display:"flex"'], [style*="display:'flex'"] {
    flex-wrap: wrap !important;
  }
  /* Ausnahme: Nav-Items und kleine Icon-Rows nicht wrappen */
  [style*="align-items:center"][style*="gap:4px"],
  [style*="alignItems:"center""][style*="gap:"4px""] {
    flex-wrap: nowrap !important;
  }
  
  /* Sidebar verkleinern */
  [style*="width:240px"], [style*="width: 240px"],
  [style*="width:260px"], [style*="width: 260px"],
  [style*="width:280px"], [style*="width: 280px"],
  [style*='width:"240px"'], [style*='width:"260px"'], [style*='width:"280px"'] {
    width: 200px !important;
    min-width: 200px !important;
  }
  
  /* Modals nicht breiter als Screen */
  .modal, [style*="width:480px"], [style*="width:520px"], [style*="width:560px"],
  [style*="width:600px"], [style*="width:640px"], [style*="width:700px"] {
    width: 95vw !important;
    max-width: 95vw !important;
  }
  
  /* Padding reduzieren */
  [style*="padding:40px"], [style*="padding:48px"], [style*="padding:32px"] {
    padding: 20px !important;
  }
  [style*="padding: 40px"], [style*="padding: 48px"], [style*="padding: 32px"] {
    padding: 20px !important;
  }
  
  /* Tabellen scrollbar */
  table { display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; }
  
  /* Font-Size Minimum */
  * { min-height: 0; }
}

/* === MOBILE (480px) === */
@media (max-width: 480px) {
  /* Grid ‚Üí 1 Spalte */
  [style*="grid-template-columns"], [style*="gridTemplateColumns"] { 
    grid-template-columns: 1fr !important; 
  }
  .grid { grid-template-columns: 1fr !important; }
  
  /* Sidebar ausblenden oder collapsieren */
  [style*="width:240px"], [style*="width: 240px"],
  [style*="width:260px"], [style*="width: 260px"],
  [style*="width:280px"], [style*="width: 280px"],
  [style*="width:200px"], [style*="width: 200px"],
  [style*='width:"240px"'], [style*='width:"260px"'], [style*='width:"280px"'],
  [style*='width:"200px"'] {
    position: fixed !important;
    left: -300px !important;
    z-index: 999 !important;
    transition: left 0.3s ease !important;
    width: 260px !important;
    height: 100vh !important;
    top: 0 !important;
  }
  
  /* Alle Flex-Container stacken */
  [style*="display:flex"], [style*="display: flex"],
  [style*='display:"flex"'] {
    flex-wrap: wrap !important;
  }
  [style*="flex-direction:row"], [style*="flexDirection:"row""],
  [style*="flex-direction: row"] {
    flex-direction: column !important;
  }
  
  /* Form-Elemente full width */
  input, select, textarea, .input-field {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    font-size: 16px !important; /* Prevents iOS zoom */
  }
  
  /* Buttons touch-friendly */
  button, .btn-primary, .btn-secondary, [role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
    font-size: 14px !important;
  }
  
  /* Padding stark reduzieren */
  [style*="padding:40px"], [style*="padding:48px"], [style*="padding:32px"],
  [style*="padding:28px"], [style*="padding:24px"],
  [style*="padding: 40px"], [style*="padding: 48px"], [style*="padding: 32px"],
  [style*="padding: 28px"], [style*="padding: 24px"] {
    padding: 12px !important;
  }
  
  /* Gap reduzieren */
  [style*="gap:24px"], [style*="gap:20px"], [style*="gap:28px"],
  [style*="gap: 24px"], [style*="gap: 20px"], [style*="gap: 28px"] {
    gap: 12px !important;
  }
  
  /* Font sizes - minimum 12px */
  [style*="font-size:8px"], [style*="font-size:9px"], [style*="font-size:10px"],
  [style*="font-size: 8px"], [style*="font-size: 9px"], [style*="font-size: 10px"],
  [style*="fontSize:8px"], [style*="fontSize:9px"], [style*="fontSize:10px"],
  [style*='fontSize:"8px"'], [style*='fontSize:"9px"'], [style*='fontSize:"10px"'] {
    font-size: 12px !important;
  }
  
  /* Bilder responsive */
  img { max-width: 100% !important; height: auto !important; }
  
  /* Fixed elements repositionieren */
  [style*="position:fixed"][style*="top:12px"][style*="left:12px"],
  [style*="position: fixed"][style*="top: 12px"][style*="left: 12px"] {
    top: 6px !important;
    left: 6px !important;
    font-size: 11px !important;
    padding: 4px 8px !important;
  }
  
  /* Logo kleiner */
  .logo { font-size: 32px !important; }
  
  /* Text wrap erzwingen */
  * { word-wrap: break-word !important; overflow-wrap: break-word !important; }
  [style*="white-space:nowrap"], [style*="white-space: nowrap"],
  [style*='whiteSpace:"nowrap"'] {
    white-space: normal !important;
  }
  
  /* Modals full width */
  .modal, [class*="modal"], [style*="width:480px"], [style*="width:520px"],
  [style*="width:560px"], [style*="width:600px"] {
    width: 96vw !important;
    max-width: 96vw !important;
    padding: 16px !important;
    margin: 8px !important;
  }
  
  /* Map containers */
  #map, .leaflet-container, [style*="height:100vh"] {
    height: calc(100vh - 60px) !important;
  }
  .map-toolbar {
    flex-direction: column !important;
    top: 6px !important;
    left: 6px !important;
    right: 6px !important;
  }
  .map-tool-btn {
    font-size: 11px !important;
    padding: 5px 10px !important;
  }
}

/* ‚ïê‚ïê‚ïê Lesbarkeit: Zu dunkle Farben aufhellen ‚ïê‚ïê‚ïê */
/* #0c1222 backgrounds ‚Üí Schrift mindestens #8b95a5 */
[style*="color:#0c1222"], [style*="color: #0c1222"] { color: #8b95a5 !important; }
[style*="color:#151d30"], [style*="color: #151d30"] { color: #8b95a5 !important; }
[style*="color:#263354"], [style*="color: #263354"] { color: #7a8baa !important; }
[style*="color:#1c2640"], [style*="color: #1c2640"] { color: #8b95a5 !important; }
[style*="color:#334155"], [style*="color: #334155"] { color: #8b95a5 !important; }
[style*="color:#252530"], [style*="color: #252530"] { color: #8b95a5 !important; }
[style*='color:"#0c1222"'] { color: #8b95a5 !important; }
[style*='color:"#151d30"'] { color: #8b95a5 !important; }
[style*='color:"#263354"'] { color: #7a8baa !important; }
[style*='color:"#1c2640"'] { color: #8b95a5 !important; }
[style*='color:"#334155"'] { color: #8b95a5 !important; }
[style*='color:"#252530"'] { color: #8b95a5 !important; }

/* Gr√ºnt√∂ne auf Dark besser lesbar machen */
[style*="color:#166534"], [style*="color: #166534"] { color: #34d399 !important; }
[style*='color:"#166534"'] { color: #34d399 !important; }

/* Generell: Alle font-sizes unter 10px auf mindestens 11px */
</style>
</head>
<body>

<div class="header">
  <div class="logo">üè†</div>
  <div class="header-text">
    <h1>bee-doo <span>Haus-Score</span></h1>
    <p>KI-Dachanalyse f√ºr Scouter</p>
  </div>
  <a href="/" class="back-link">‚Üê App</a>
</div>

<input type="file" id="fileInput" accept="image/*" capture="environment" onchange="onFileSelect(event)">

<div class="camera-zone">
  <div class="photo-preview" id="photoPreview" onclick="document.getElementById('fileInput').click()">
    <div class="photo-placeholder" id="placeholder">
      <div class="icon">üì∏</div>
      <p>Foto aufnehmen</p>
      <small>Dach von der Stra√üe fotografieren</small>
    </div>
    <img id="previewImg" style="display:none">
    <div class="photo-overlay" id="photoOverlay" style="display:none">
      <span>Tippen zum √Ñndern</span>
    </div>
  </div>
</div>

<button class="analyze-btn" id="analyzeBtn" onclick="analyze()" disabled>
  üîç Jetzt analysieren
</button>

<div class="loading-box" id="loadingBox">
  <div class="spinner"></div>
  <div class="loading-steps">
    <p id="step1" class="active">üì∏ Bild wird vorbereitet...</p>
    <p id="step2">ü§ñ Claude analysiert das Dach...</p>
    <p id="step3">üìä Score wird berechnet...</p>
  </div>
</div>

<div class="error-box" id="errorBox"></div>

<div class="result" id="result">
  <!-- Score Hero -->
  <div class="score-hero">
    <div class="score-ring">
      <svg width="110" height="110" viewBox="0 0 110 110">
        <circle cx="55" cy="55" r="48" fill="none" stroke="#1c2640" stroke-width="8"/>
        <circle id="scoreArc" cx="55" cy="55" r="48" fill="none" stroke="#FDE154" stroke-width="8"
          stroke-dasharray="301.6" stroke-dashoffset="301.6" stroke-linecap="round"/>
      </svg>
      <div class="score-num" id="scoreNum">‚Äî</div>
    </div>
    <div class="score-label">Solar-Eignung</div>
    <div class="empfehlung" id="empfehlung">‚Äî</div>
    <div class="zusammenfassung" id="zusammenfassung">‚Äî</div>
  </div>

  <!-- Criteria -->
  <div class="kriterien-grid" id="kriterienGrid"></div>

  <!-- Stats -->
  <div class="stats-row">
    <div class="stat-card">
      <div class="stat-label">Gesch√§tzte Module</div>
      <div><span class="stat-value" id="statModule" style="color:var(--y)">‚Äî</span></div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Gesch√§tzte Leistung</div>
      <div><span class="stat-value" id="statKwp" style="color:var(--green)">‚Äî</span><span class="stat-unit">kWp</span></div>
    </div>
  </div>

  <!-- Argumente -->
  <div class="list-card">
    <div class="list-title" style="color:var(--green)">‚úÖ Verkaufsargumente</div>
    <div id="argumente"></div>
  </div>

  <!-- Einw√§nde -->
  <div class="list-card">
    <div class="list-title" style="color:#F87171">‚ö†Ô∏è M√∂gliche Einw√§nde</div>
    <div id="einwaende"></div>
  </div>

  <!-- Next Steps -->
  <div class="next-card">
    <div class="next-title">üí° Empfehlung f√ºr dich</div>
    <div class="next-text" id="naechsteSchritte">‚Äî</div>
  </div>

  <button class="new-btn" onclick="reset()">üì∏ Neues Foto analysieren</button>
</div>

<script>
let selectedFile = null;

const KRITERIENLABELS = {
  dachausrichtung: 'Ausrichtung',
  dachneigung: 'Neigung',
  verschattung: 'Verschattung',
  dachzustand: 'Zustand',
  dachflaeche: 'Fl√§che',
  dachtyp: 'Dachtyp'
};

function onFileSelect(e) {
  const file = e.target.files[0];
  if (!file) return;
  selectedFile = file;
  const url = URL.createObjectURL(file);
  document.getElementById('previewImg').src = url;
  document.getElementById('previewImg').style.display = 'block';
  document.getElementById('placeholder').style.display = 'none';
  document.getElementById('photoOverlay').style.display = 'block';
  document.getElementById('analyzeBtn').disabled = false;
  document.getElementById('result').classList.remove('visible');
  document.getElementById('errorBox').classList.remove('visible');
}

async function analyze() {
  if (!selectedFile) return;
  const btn = document.getElementById('analyzeBtn');
  btn.disabled = true;
  btn.classList.add('loading');
  btn.textContent = '‚è≥ Analysiere...';
  document.getElementById('loadingBox').classList.add('visible');
  document.getElementById('result').classList.remove('visible');
  document.getElementById('errorBox').classList.remove('visible');

  try {
    setStep(1);
    const b64 = await toBase64(selectedFile);
    const mediaType = selectedFile.type || 'image/jpeg';

    setStep(2);
    const res = await fetch('/api/haus-score', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ imageBase64: b64, mediaType })
    });

    setStep(3);
    const data = await res.json();
    if (data.error) throw new Error(data.error);
    renderResult(data);
  } catch(e) {
    document.getElementById('errorBox').textContent = '‚ö†Ô∏è ' + e.message;
    document.getElementById('errorBox').classList.add('visible');
  }

  document.getElementById('loadingBox').classList.remove('visible');
  btn.disabled = false;
  btn.classList.remove('loading');
  btn.innerHTML = 'üîç Neu analysieren';
}

function setStep(n) {
  ['step1','step2','step3'].forEach((id, i) => {
    document.getElementById(id).className = i < n ? 'done' : i === n-1 ? 'active' : '';
  });
}

function toBase64(file) {
  return new Promise((res, rej) => {
    const r = new FileReader();
    r.onload = () => res(r.result.split(',')[1]);
    r.onerror = rej;
    r.readAsDataURL(file);
  });
}

function scoreColor(s) {
  if (s >= 8) return '#10B981';
  if (s >= 6) return '#FDE154';
  if (s >= 4) return '#F59E0B';
  return '#EF4444';
}

function renderResult(d) {
  // Score ring animation
  const score = d.score || 0;
  const circumference = 301.6;
  const offset = circumference - (score / 10) * circumference;
  const arc = document.getElementById('scoreArc');
  arc.style.stroke = scoreColor(score);
  setTimeout(() => { arc.style.transition = 'stroke-dashoffset 1s ease'; arc.style.strokeDashoffset = offset; }, 100);
  document.getElementById('scoreNum').textContent = score;
  document.getElementById('scoreNum').style.color = scoreColor(score);

  // Empfehlung
  const empColors = { 'SEHR GEEIGNET': '#10B981', 'GEEIGNET': '#FDE154', 'BEDINGT GEEIGNET': '#F59E0B', 'NICHT GEEIGNET': '#EF4444' };
  const emp = d.empfehlung || '‚Äî';
  document.getElementById('empfehlung').textContent = emp;
  document.getElementById('empfehlung').style.color = empColors[emp] || 'var(--tx)';
  document.getElementById('zusammenfassung').textContent = d.zusammenfassung || '';

  // Kriterien
  const grid = document.getElementById('kriterienGrid');
  grid.innerHTML = '';
  Object.entries(d.kriterien || {}).forEach(([key, val]) => {
    const s = val.score || 0;
    const card = document.createElement('div');
    card.className = 'krit-card';
    card.innerHTML = `
      <div class="krit-name">${KRITERIENLABELS[key] || key}</div>
      <div class="krit-bar"><div class="krit-bar-fill" style="width:${s*10}%;background:${scoreColor(s)}"></div></div>
      <div class="krit-score" style="color:${scoreColor(s)}">${s}<span style="font-size:13px;color:var(--dm)">/10</span></div>
      <div class="krit-bewertung">${val.bewertung || ''}</div>`;
    grid.appendChild(card);
  });

  // Stats
  document.getElementById('statModule').textContent = d.geschaetzte_module || '?';
  document.getElementById('statKwp').textContent = d.geschaetzte_kwp ? d.geschaetzte_kwp.toFixed(1) : '?';

  // Argumente
  const argEl = document.getElementById('argumente');
  argEl.innerHTML = (d.argumente || []).map(a =>
    `<div class="list-item"><span class="list-item-icon" style="color:#10B981">‚úì</span><span>${a}</span></div>`
  ).join('');

  // Einw√§nde
  const einEl = document.getElementById('einwaende');
  einEl.innerHTML = (d.einwaende || []).map(e =>
    `<div class="list-item"><span class="list-item-icon" style="color:#F87171">!</span><span>${e}</span></div>`
  ).join('');

  // Next Steps
  document.getElementById('naechsteSchritte').textContent = d.naechste_schritte || '';

  document.getElementById('result').classList.add('visible');
  document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function reset() {
  selectedFile = null;
  document.getElementById('previewImg').style.display = 'none';
  document.getElementById('placeholder').style.display = 'block';
  document.getElementById('photoOverlay').style.display = 'none';
  document.getElementById('analyzeBtn').disabled = true;
  document.getElementById('analyzeBtn').innerHTML = 'üîç Jetzt analysieren';
  document.getElementById('result').classList.remove('visible');
  document.getElementById('fileInput').value = '';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
